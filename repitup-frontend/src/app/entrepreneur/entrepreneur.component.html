<div [ngClass]="{ 'container': true, 'is-municipal': auth.user.isMunicipal() }" *ngIf="popupRedirect == false">
  <div *ngFor="let challenge of challenges" class="item">
    <mat-card>
      <img mat-card-image class="card-image" src="{{ challenge.image }}" alt="{{ challenge.title }}">
      <mat-card-header>
        <mat-card-title-group>
          <mat-card-title class="card-title">{{ challenge.title }}<br/> <span class="card-title-address"><i class="fas fa-map-marker-alt text-red"></i> {{ challenge.subtitle }}</span></mat-card-title>
          <mat-card-subtitle>by <strong>{{ challenge.by }}</strong></mat-card-subtitle>
          <mat-card-subtitle>challenge open until march 28th</mat-card-subtitle>
        </mat-card-title-group>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>

        <div class="content"
          fxLayout="row"
          fxLayoutAlign="center"
          fxLayout.sm="column"
          fxFlexFill >
          <p fxFlex="50" style="text-align:center"><i class="fas fa-object-group fa-lg"></i> {{ challenge.squareMeters }} m<sup>2</sup></p>
          <p fxFlex="50" style="text-align:center"><i class="fas fa-cubes fa-lg"></i> year of construction: 1969</p>
        </div>

        <mat-divider></mat-divider>
        <p>{{ challenge.description }}</p>
      </mat-card-content>

      <mat-card-actions *ngIf="auth.user.isEntrepeneur()">
        <div class="button-row">
            <button mat-button color="accent" (click)="openDialog()">Submit idea</button>
        </div>
      </mat-card-actions>
    </mat-card>
    <h3 *ngIf="auth.user.isMunicipal()" class="success-message">Successfully published challenge!</h3>
  </div>
</div>

<div *ngIf="popupRedirect">
  <app-feasibility-track (close)="popupRedirect = false"></app-feasibility-track>
</div>

